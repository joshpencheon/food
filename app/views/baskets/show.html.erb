<%= render :partial => 'basket_header', :object => @basket %>


<%= form_for [@basket, Purchase.new(:basket => @basket)], :html => { :autocomplete => 'off' } do |f| %>
  
  <span class="progress" style="display:none;"></span>

  
  <a onclick="$('#basket').css({position: 'relative'}).animate({top:'-500px'}, 500, 'easeInOutBack')">up</a>
  <a onclick="$('#basket').css({position: 'relative'}).animate({top:0}, 500, 'easeDotPrinter')">down</a>

  <table class="new-product-wrapper">
    <tr>
      <td><%= f.text_field :quantity, :placeholder => 'No.' %></td>
      <td class="product-wrapper">
        <div id="product-cassette">
          <%= fields_for :product do |product_f| %>
          <%= product_f.text_field :name, :placeholder => 'Product Name' %>
          <%= product_f.text_field :ean, :placeholder => 'Product EAN', :tabindex => -1 %>
          <% end %>
        </div>    
      </td>
      <td>
        <span class="grey">Â£</span> 
        <%= f.text_field :unit_price, :placeholder => '(each)' %>
        <%= f.hidden_field :basket_id %>
      </td>
          
    </tr>
  </table>
      
<% end %>

<div id="basket"><%= render @basket %></div>

